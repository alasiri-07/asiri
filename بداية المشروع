<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø¨Ù„Ø§Øº Ø¹Ø§Ø¬Ù„ Ø¨ÙˆÙ‚ÙˆØ¹ Ø­Ø§Ø¯Ø« Ù…Ø±ÙˆØ±ÙŠ</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
    <style>
        * {
            box-sizing: border-box;
        }

        :root {
            --h1-after-background: #f39c12;
        }
        
        body {
            font-family: 'Cairo', sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #eef1f5;
            color: #333;
            direction: rtl;
            text-align: center;
            min-height: 100vh;
        }
        
        .container {
            background-color: #ffffff;
            padding: 35px 40px;
            border-radius: 12px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
            max-width: 850px;
            margin: 25px auto;
            border: 1px solid #e0e0e0;
            width: 100%;
        }
        
        h1, h2 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 30px;
            font-weight: 700;
            font-size: 2.2em;
            position: relative;
        }
        
        h1::after {
            content: '';
            display: block;
            width: 80px;
            height: 4px;
            background-color: var(--h1-after-background);
            margin: 15px auto 0;
            border-radius: 2px;
            transition: background-color 0.3s ease;
        }
        
        h2 {
            color: #2c3e50;
            border-bottom: 2px solid #e0e0e0;
            padding-bottom: 12px;
            margin-top: 40px;
            font-size: 1.6em;
            text-align: right;
        }
        
        .form-group {
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
            justify-content: flex-end;
        }
        
        .form-group label {
            font-weight: 600;
            margin-left: 10px;
            color: #555;
            font-size: 1.05em;
        }
        
        .form-group input[type="text"],
        .form-group input[type="number"],
        .form-group input[type="date"],
        .form-group textarea,
        .form-group select,
        .form-group input[list],
        .form-group input[type="tel"] {
            flex: 1;
            padding: 12px 15px;
            border: 1px solid #ccc;
            border-radius: 8px;
            font-size: 1.05em;
            box-sizing: border-box;
            background-color: #fcfcfc;
            transition: border-color 0.3s ease, box-shadow 0.3s ease, background-color 0.3s ease;
        }
        
        .form-group input[type="text"]:focus,
        .form-group input[type="number"]:focus,
        .form-group input[type="date"]:focus,
        .form-group textarea:focus,
        .form-group select:focus,
        .form-group input[list]:focus,
        .form-group input[type="tel"]:focus {
            border-color: #3498db;
            outline: none;
            box-shadow: 0 0 8px rgba(52, 152, 219, 0.2);
            background-color: #fff;
        }
        
        textarea#accident-reason-display {
            min-height: 100px;
            resize: vertical;
        }
        
        input#accident-reason-search {
            display: block;
            margin-bottom: 10px;
        }

        .car-details {
            margin-top: 20px;
            padding: 15px 25px;
            border-right: 4px solid #f39c12;
            background-color: #fffaf0;
            border-radius: 8px;
            margin-bottom: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }
        
        .car-details div {
            margin-bottom: 12px;
        }
        
        .car-plate-numbers input {
            width: 100%;
            max-width: 120px;
            text-align: center;
            margin: 0 5px;
            padding: 10px 8px;
        }
        
        .car-plate-numbers span {
            font-weight: bold;
            color: #333;
        }
        
        .checkbox-container {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
            padding: 5px 0;
            font-size: 1.05em;
            justify-content: flex-end;
        }
        
        .checkbox-container input[type="checkbox"],
        .checkbox-container input[type="radio"] {
            margin-right: 15px;
            width: 22px;
            height: 22px;
            cursor: pointer;
            accent-color: #25d366;
            border-radius: 4px;
        }
        
        .checkbox-container label {
            font-weight: normal;
            font-size: 1em;
            color: #444;
        }
        
        .footer-note {
            text-align: center;
            margin-top: 45px;
            font-size: 1.1em;
            color: #777;
            font-weight: 600;
        }
        
        .copy-button-container {
            text-align: center;
            margin-top: 40px;
            display: flex;
            gap: 20px;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        .copy-button, .back-button, .settings-button {
            color: white;
            padding: 14px 30px;
            border: none;
            border-radius: 8px;
            font-size: 1.3em;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.2s ease;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            display: inline-flex;
            align-items: center;
            gap: 10px;
        }
        
        .copy-button {
            background-color: #25d366;
            box-shadow: 0 4px 10px rgba(37, 211, 102, 0.3);
        }
        
        .copy-button:hover {
            background-color: #1da851;
            transform: translateY(-2px);
        }
        
        .back-button {
            background-color: #95a5a6;
            box-shadow: 0 4px 10px rgba(149, 165, 166, 0.3);
        }
        
        .back-button:hover {
            background-color: #7f8c8d;
            transform: translateY(-2px);
        }
        
        .settings-button {
            background-color: #6c757d;
            box-shadow: 0 4px 10px rgba(108, 117, 125, 0.3);
        }
        
        .settings-button:hover {
            background-color: #5a6268;
            transform: translateY(-2px);
        }
        
        .copy-button:active, .back-button:active, .settings-button:active {
            transform: translateY(0);
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.5);
            padding: 20px;
            box-sizing: border-box;
        }
        
        .modal-content {
            background-color: #fefefe;
            margin: 30px auto;
            padding: 30px;
            border: 1px solid #888;
            border-radius: 10px;
            width: 90%;
            max-width: 600px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            position: relative;
            animation: fadeIn 0.3s ease-out;
        }
        
        @keyframes fadeIn {
            from {opacity: 0; transform: translateY(-20px);}
            to {opacity: 1; transform: translateY(0);}
        }
        
        .close-button {
            color: #aaa;
            float: left;
            font-size: 28px;
            font-weight: bold;
            margin-left: -10px;
        }
        
        .close-button:hover,
        .close-button:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }
        
        .modal-content h3 {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 1.5em;
        }
        
        #report-output {
            width: 100%;
            height: 300px;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
            background-color: #f9f9f9;
            font-family: 'Courier New', Courier, monospace;
            font-size: 1.0em;
            line-height: 1.6;
            white-space: pre-wrap;
            overflow-y: auto;
            resize: vertical;
        }
        
        .modal-copy-button-container {
            text-align: center;
            margin-top: 25px;
        }
        
        .modal-copy-button {
            background-color: #3498db;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            font-size: 1.1em;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        
        .modal-copy-button:hover {
            background-color: #2980b9;
        }
        
        .success-message {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
            padding: 12px 20px;
            border-radius: 8px;
            text-align: center;
            margin-top: 20px;
            display: none;
            font-size: 1.1em;
        }

        /* Initial Page Styles */
        #initial-page {
            text-align: center;
            padding: 50px;
            background-color: #fff;
            border-radius: 12px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
            max-width: 600px;
            width: 100%;
            margin: 0 auto;
        }
        
        #initial-page h1 {
            color: #2c3e50;
            margin-bottom: 40px;
        }
        
        #initial-page h1::after {
            display: none;
        }
        
        .accident-type-option {
            margin-bottom: 20px;
        }
        
        .accident-type-option button {
            background-color: #3498db;
            color: white;
            padding: 15px 30px;
            border: none;
            border-radius: 8px;
            font-size: 1.2em;
            cursor: pointer;
            transition: background-color 0.3s ease;
            width: 80%;
            max-width: 300px;
            display: block;
            margin: 0 auto;
        }
        
        .accident-type-option button.fatal {
            background-color: #c0392b;
        }
        
        .accident-type-option button.injuries {
            background-color: #f39c12;
        }
        
        .accident-type-option button.normal {
            background-color: #3498db;
        }
        
        .accident-type-option button:hover {
            opacity: 0.9;
        }
        
        #report-form-container, #settings-page {
            display: none; 
        }
        
        .location-input-group {
            display: none;
            margin-top: 20px;
            align-items: center;
            justify-content: center;
        }
        
        .location-input-group label {
            font-weight: 600;
            margin-left: 10px;
            min-width: 160px;
            color: #555;
            font-size: 1.05em;
        }
        
        .location-input-group input {
            padding: 10px 15px;
            border: 1px solid #ccc;
            border-radius: 8px;
            font-size: 1em;
            flex: 1;
            max-width: 300px;
        }

        /* Kilometer Mark Specific Styling */
        .kilometer-mark-group {
            display: flex;
            align-items: center;
            gap: 5px;
            flex-wrap: wrap;
            position: relative;
            justify-content: flex-end;
        }

        .kilometer-mark-group label {
            min-width: 160px;
            margin-left: 10px;
        }

        .input-with-label-bg {
            position: relative;
            flex: 1;
        }

        .input-with-label-bg input {
            width: 100%;
            text-align: center;
            padding-right: 35px;
            padding-left: 35px;
        }

        .input-with-label-bg::before {
            content: attr(data-text);
            position: absolute;
            right: 8px;
            top: 50%;
            transform: translateY(-50%);
            color: #b0b0b0;
            font-size: 0.9em;
            pointer-events: none;
            z-index: 1;
        }
        
        .input-with-label-bg.km::before {
            left: 8px;
            right: auto;
        }

        /* Settings Page Specific Styles */
        #settings-page h2 {
            text-align: right;
            margin-top: 30px;
            margin-bottom: 20px;
            font-size: 1.4em;
            color: #34495e;
            border-bottom: 1px solid #eee;
            padding-bottom: 10px;
        }
        
        #settings-page .form-group {
            align-items: flex-start;
            flex-direction: column;
            gap: 8px;
        }
        
        #settings-page .form-group label {
            min-width: unset;
            margin-left: 0;
            margin-bottom: 5px;
        }
        
        #settings-page .form-group input[type="text"],
        #settings-page .form-group select {
            width: 100%;
            max-width: 100%;
        }
        
        #settings-page .copy-button-container {
            margin-top: 15px;
            margin-bottom: 30px;
            justify-content: flex-end;
        }
        
        #settings-page .copy-button-container button {
            padding: 10px 20px;
            font-size: 1.1em;
        }
        
        #settings-page select[size] {
            width: 100%;
            border: 1px solid #ccc;
            border-radius: 8px;
            padding: 10px;
            background-color: #fcfcfc;
            font-size: 1em;
            box-sizing: border-box;
        }
    </style>
</head>
<body>
    <div id="initial-page">
        <h1>Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± Ù†ÙˆØ¹ Ø§Ù„Ø­Ø§Ø¯Ø«</h1>
        <div class="accident-type-option">
            <button class="fatal" onclick="startReport('fatal')">Ø­Ø§Ø¯Ø« ÙˆÙÙŠØ§Øª ğŸ”´</button>
        </div>
        <div class="accident-type-option">
            <button class="injuries" onclick="startReport('injuries')">Ø­Ø§Ø¯Ø« Ø¥ØµØ§Ø¨Ø§Øª ğŸŸ¡</button>
        </div>
        <div class="accident-type-option">
            <button class="normal" onclick="startReport('normal')">Ø­Ø§Ø¯Ø« Ø¹Ø§Ø¯ÙŠ ğŸ”µ</button>
        </div>
        <div class="accident-type-option">
            <button class="settings-button" onclick="showSettingsPage()">âš™ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</button>
        </div>
    </div>

    <div id="report-form-container" class="container">
        <h1 id="report-title">Ø¨Ù„Ø§Øº Ø¹Ø§Ø¬Ù„ Ø¨ÙˆÙ‚ÙˆØ¹ Ø­Ø§Ø¯Ø« Ù…Ø±ÙˆØ±ÙŠ</h1>

        <div class="form-group">
            <label for="report-id">ğŸ”³ Ø±Ù‚Ù… Ø§Ù„Ø¨Ù„Ø§Øº ÙÙŠ Ø±Ù‚Ø§Ø¨Ø© +:</label>
            <input type="text" id="report-id" value="">
        </div>

        <h2>ğŸ“ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…ÙˆÙ‚Ø¹
            <span id="location-field" class="location-input-group">
                : <input type="text" id="location-text" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ù‡Ù†Ø§">
            </span>
        </h2>
        <div class="form-group">
            <label for="road-name-select">ğŸ›£ Ø§Ø³Ù… Ø§Ù„Ø·Ø±ÙŠÙ‚ :</label>
            <select id="road-name-select"></select>
        </div>
        <div class="form-group">
            <label for="road-number-display">ğŸ›£ Ø±Ù‚Ù… Ø§Ù„Ø·Ø±ÙŠÙ‚ :</label>
            <input type="text" id="road-number-display" readonly>
        </div>
        <div class="form-group">
            <label for="road-type">ğŸ›£ Ù†ÙˆØ¹ Ø§Ù„Ø·Ø±ÙŠÙ‚ :</label>
            <select id="road-type">
                <option value="Ù…ÙØ±Ø¯">Ù…ÙØ±Ø¯</option>
                <option value="Ù…Ø²Ø¯ÙˆØ¬">Ù…Ø²Ø¯ÙˆØ¬</option>
                <option value="Ø³Ø±ÙŠØ¹" selected>Ø³Ø±ÙŠØ¹</option>
            </select>
        </div>
        <div class="form-group kilometer-mark-group">
            <label for="kilometer-mark-m">ğŸ›£ Ø§Ù„Ø¹Ù„Ø§Ù…Ø© Ø§Ù„ÙƒÙŠÙ„ÙˆÙ…ØªØ±ÙŠØ©:</label>
            <span>(</span>
            <div class="input-with-label-bg" data-text="Ù…ØªØ±">
                <input type="number" id="kilometer-mark-m" placeholder="">
            </div>
            <span>+</span>
            <div class="input-with-label-bg km" data-text="ÙƒÙŠÙ„Ùˆ">
                <input type="number" id="kilometer-mark-km" placeholder="">
            </div>
            <span>)</span>
        </div>
        <div class="form-group">
            <label for="direction">ğŸ›£ Ø§Ù„Ø§ØªØ¬Ø§Ù‡ :</label>
            <select id="direction">
                <option value="Ø±Ø¦ÙŠØ³ÙŠ" selected>Ø±Ø¦ÙŠØ³ÙŠ</option>
                <option value="Ø¹ÙƒØ³ÙŠ">Ø¹ÙƒØ³ÙŠ</option>
            </select>
        </div>
        <div class="form-group">
            <label for="location-description">ğŸ›£ ÙˆØµÙ Ø§Ù„Ù…ÙˆÙ‚Ø¹ :</label>
            <textarea id="location-description" rows="3"></textarea>
        </div>
        <div class="form-group">
            <label for="contract-number">ğŸ›£ Ø±Ù‚Ù… Ø§Ù„Ø¹Ù‚Ø¯ :</label>
            <input type="text" id="contract-number" value="404">
        </div>
        <div class="form-group">
            <label for="contractor-name">ğŸ›£ Ø§Ø³Ù… Ø§Ù„Ù…Ù‚Ø§ÙˆÙ„ :</label>
            <input type="text" id="contractor-name" value="Ù…Ø·Ù„Ù‚ Ø§Ù„ØºÙˆÙŠØ±ÙŠ Ù„Ù„Ù…Ù‚Ø§ÙˆÙ„Ø§Øª">
        </div>

        <h2>ğŸ›‘ Ù†ØªÙŠØ¬Ø© Ø§Ù„Ø­Ø§Ø¯Ø«</h2>
        <div class="form-group">
            <label for="injuries-count">â›‘ Ø¹Ø¯Ø¯ Ø§Ù„Ø¥ØµØ§Ø¨Ø§Øª :</label>
            <input type="text" id="injuries-count" value="Ù„Ø§ÙŠÙˆØ¬Ø¯">
        </div>
        <div class="form-group">
            <label for="fatalities-count">â›‘ Ø¹Ø¯Ø¯ Ø§Ù„ÙˆÙÙŠØ§Øª :</label>
            <input type="text" id="fatalities-count" value="Ù„Ø§ÙŠÙˆØ¬Ø¯">
        </div>
        <div class="form-group">
            <label for="damages-input">â›‘ Ø§Ù„ØªÙ„ÙÙŠØ§Øª:</label>
            <input type="text" id="damages-input" list="damages-options" value="Ù„Ø§ÙŠÙˆØ¬Ø¯" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„ØªÙ„ÙÙŠØ§Øª Ø£Ùˆ Ø§Ø®ØªØ±">
            <datalist id="damages-options"></datalist>
        </div>

        <div class="form-group">
            <label for="car-count">ğŸš™ Ø¹Ø¯Ø¯ Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª :</label>
            <input type="tel" id="car-count" min="0" value="2" pattern="[0-9]*" inputmode="numeric">
        </div>
        <div id="car-details-container">
        </div>
        <datalist id="car-models-options"></datalist> 
        <div class="form-group">
            <label for="accident-reason-search">ğŸ“ƒ Ø³Ø¨Ø¨ Ø§Ù„Ø­Ø§Ø¯Ø« (Ø§Ø¨Ø­Ø« Ø£Ùˆ Ø§ÙƒØªØ¨):</label>
            <input type="text" id="accident-reason-search" list="accident-reason-options" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ø³Ø¨Ø¨ Ø£Ùˆ Ø§ÙƒØªØ¨Ù‡">
            <datalist id="accident-reason-options"></datalist>
            <label for="accident-reason-display" style="display: none;">Ø§Ù„Ø³Ø¨Ø¨:</label> <textarea id="accident-reason-display" rows="4" class="large-input"></textarea>
        </div>

        <div class="form-group">
            <label for="hour">â–  Ø§Ù„Ø³Ø§Ø¹Ø©:</label>
            <input type="text" id="hour" value="">
        </div>
        <div class="form-group">
            <label for="date">â–  Ø§Ù„ØªØ§Ø±ÙŠØ®:</label>
            <input type="date" id="date" value="">
        </div>
        <div class="form-group">
            <label for="day">â–  Ø§Ù„ÙŠÙˆÙ… :</label>
            <input type="text" id="day" readonly>
        </div>

        <h2>ğŸ—’ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¹Ø§Ù…Ø©</h2>
        <div class="form-group">
            <label for="traffic-delay-input">ğŸ Ø²Ù…Ù† ØªØ¨Ø§Ø·Ø¤ Ø­Ø±ÙƒØ© Ø§Ù„Ù…Ø±ÙˆØ±:</label>
            <input type="text" id="traffic-delay-input" list="traffic-delay-options" value="Ù„Ø§ ÙŠÙˆØ¬Ø¯ ØªØ¨Ø§Ø·Ø¤" class="large-input">
            <datalist id="traffic-delay-options"></datalist>
        </div>
        <div class="form-group">
            <label for="weather-condition">ğŸ Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø¬ÙˆÙŠØ© :</label>
            <select id="weather-condition">
                <option value="ØµØ­Ùˆ" selected>ØµØ­Ùˆ</option>
                <option value="Ù…Ù…Ø·Ø±">Ù…Ù…Ø·Ø±</option>
                <option value="ØºØ§Ø¦Ù…">ØºØ§Ø¦Ù…</option>
                <option value="Ø¹Ø§ØµÙØ© Ø±Ù…Ù„ÙŠØ©">Ø¹Ø§ØµÙØ© Ø±Ù…Ù„ÙŠØ©</option>
            </select>
        </div>
        <div class="form-group">
            <label for="road-condition">ğŸ›£ Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ø±ÙŠÙ‚ :</label>
            <input type="text" id="road-condition" value="Ø¬ÙŠØ¯Ø©">
        </div>
        <div class="form-group">
            <label for="visibility">ğŸ‘“ ÙˆØ¶ÙˆØ­ Ø§Ù„Ø±Ø¤ÙŠØ© :</label>
            <input type="text" id="visibility" value="ÙˆØ§Ø¶Ø­Ø©">
        </div>

        <h2>ğŸš¨ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡ Ø§Ù„Ø°ÙŠ ØªÙ… Ù…Ù† Ù‚Ø¨Ù„ Ø§Ù„Ù…Ù‚Ø§ÙˆÙ„</h2>
        <div class="checkbox-container">
            <input type="checkbox" id="action1" checked>
            <label for="action1">1ï¸âƒ£ ØªØ£Ù…ÙŠÙ† Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø­Ø§Ø¯Ø«.</label>
        </div>
        <div class="form-group">
            <label>2ï¸âƒ£ ØªÙ†Ø¸ÙŠÙ Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø­Ø§Ø¯Ø« :</label>
            <div style="display: flex; gap: 20px; flex-wrap: wrap;">
                <div class="checkbox-container" style="margin-bottom: 0;">
                    <input type="radio" id="clean-done" name="cleaning-status" value="ØªÙ†Ø¸ÙŠÙ Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø­Ø§Ø¯Ø«." checked>
                    <label for="clean-done">ØªÙ… Ø§Ù„ØªÙ†Ø¸ÙŠÙ</label>
                </div>
                <div class="checkbox-container" style="margin-bottom: 0;">
                    <input type="radio" id="clean-in-progress" name="cleaning-status" value="Ø¬Ø§Ø±ÙŠ ØªÙ†Ø¸ÙŠÙ Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø­Ø§Ø¯Ø«.">
                    <label for="clean-in-progress">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªÙ†Ø¸ÙŠÙ</label>
                </div>
            </div>
        </div>
        <div class="checkbox-container">
            <input type="checkbox" id="action3" checked>
            <label for="action3">3ï¸âƒ£ ÙˆØ¶Ø¹ ÙˆØ³Ø§Ø¦Ù„ Ø§Ù„Ø³Ù„Ø§Ù…Ø©.</label>
        </div>

        <div class="copy-button-container">
            <button class="copy-button" onclick="showReportModal()">
                Ù†Ø³Ø® Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ù„Ù„ÙˆØ§ØªØ³Ø§Ø¨
            </button>
            <button class="back-button" onclick="showInitialPage()">
                Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
            </button>
        </div>

        <div class="success-message" id="successMessage">
            âœ… ØªÙ… Ù†Ø³Ø® Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø¨Ù†Ø¬Ø§Ø­!
        </div>

        <p class="footer-note">ğŸš§ Ø§Ù„Ù…Ø±ÙˆØ± ÙˆØ§Ù„Ø³Ù„Ø§Ù…Ø© Ø¨Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ ğŸš§</p>
    </div>

    <div id="settings-page" class="container" style="display: none;">
        <h1>âš™ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</h1>

        <h2>ğŸ›£ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø·Ø±Ù‚</h2>
        <div class="form-group">
            <label for="new-road-name">Ø§Ø³Ù… Ø§Ù„Ø·Ø±ÙŠÙ‚:</label>
            <input type="text" id="new-road-name" placeholder="Ù…Ø«Ø§Ù„: Ø·Ø±ÙŠÙ‚ Ø§Ù„Ù…Ù„Ùƒ ÙÙ‡Ø¯">
        </div>
        <div class="form-group">
            <label for="new-road-number">Ø±Ù‚Ù… Ø§Ù„Ø·Ø±ÙŠÙ‚:</label>
            <input type="text" id="new-road-number" placeholder="Ù…Ø«Ø§Ù„: 5">
        </div>
        <div class="copy-button-container">
            <button class="copy-button" onclick="addRoad()">â• Ø¥Ø¶Ø§ÙØ© Ø·Ø±ÙŠÙ‚</button>
        </div>
        <div class="form-group">
            <label>Ø§Ù„Ø·Ø±Ù‚ Ø§Ù„Ø­Ø§Ù„ÙŠØ©:</label>
            <select id="current-roads-list" size="5" style="flex: 1; min-height: 120px;"></select>
        </div>
        <div class="copy-button-container">
            <button class="back-button" onclick="removeSelectedRoad()">ğŸ—‘ Ø­Ø°Ù Ø§Ù„Ù…Ø­Ø¯Ø¯</button>
        </div>

        <h2>ğŸš˜ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø±ÙƒØ¨Ø§Øª</h2>
        <div class="form-group">
            <label for="new-car-company">Ø§Ø³Ù… Ø§Ù„Ø´Ø±ÙƒØ©:</label>
            <input type="text" id="new-car-company" placeholder="Ù…Ø«Ø§Ù„: ØªÙˆÙŠÙˆØªØ§">
        </div>
        <div class="form-group">
            <label for="new-car-model">Ø§Ø³Ù… Ø§Ù„Ù…Ø±ÙƒØ¨Ø©:</label>
            <input type="text" id="new-car-model" placeholder="Ù…Ø«Ø§Ù„: ÙƒØ§Ù…Ø±ÙŠ">
        </div>
        <div class="copy-button-container">
            <button class="copy-button" onclick="addCarModel()">â• Ø¥Ø¶Ø§ÙØ© Ù…Ø±ÙƒØ¨Ø©</button>
        </div>
        <div class="form-group">
            <label>Ø§Ù„Ù…Ø±ÙƒØ¨Ø§Øª Ø§Ù„Ø­Ø§Ù„ÙŠØ©:</label>
            <select id="current-car-models-list" size="5" style="flex: 1; min-height: 120px;"></select>
        </div>
        <div class="copy-button-container">
            <button class="back-button" onclick="removeSelectedCarModel()">ğŸ—‘ Ø­Ø°Ù Ø§Ù„Ù…Ø­Ø¯Ø¯</button>
        </div>

        <h2>ğŸ“ƒ Ø¥Ø¯Ø§Ø±Ø© Ø£Ø³Ø¨Ø§Ø¨ Ø§Ù„Ø­ÙˆØ§Ø¯Ø«</h2>
        <div class="form-group">
            <label for="new-accident-reason">Ø³Ø¨Ø¨ Ø¬Ø¯ÙŠØ¯:</label>
            <input type="text" id="new-accident-reason" placeholder="Ø£Ø¯Ø®Ù„ Ø³Ø¨Ø¨ Ø­Ø§Ø¯Ø« Ø¬Ø¯ÙŠØ¯">
        </div>
        <div class="copy-button-container">
            <button class="copy-button" onclick="addAccidentReason()">â• Ø¥Ø¶Ø§ÙØ© Ø³Ø¨Ø¨</button>
        </div>
        <div class="form-group">
            <label>Ø§Ù„Ø£Ø³Ø¨Ø§Ø¨ Ø§Ù„Ø­Ø§Ù„ÙŠØ©:</label>
            <select id="current-accident-reasons-list" size="5" style="flex: 1; min-height: 120px;"></select>
        </div>
        <div class="copy-button-container">
            <button class="back-button" onclick="removeSelectedAccidentReason()">ğŸ—‘ Ø­Ø°Ù Ø§Ù„Ù…Ø­Ø¯Ø¯</button>
        </div>

        <h2>â›‘ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØªÙ„ÙÙŠØ§Øª</h2>
        <div class="form-group">
            <label for="new-damage">ØªÙ„ÙÙŠØ§Øª Ø¬Ø¯ÙŠØ¯Ø©:</label>
            <input type="text" id="new-damage" placeholder="Ø£Ø¯Ø®Ù„ ÙˆØµÙ ØªÙ„ÙÙŠØ§Øª Ø¬Ø¯ÙŠØ¯">
        </div>
        <div class="copy-button-container">
            <button class="copy-button" onclick="addDamage()">â• Ø¥Ø¶Ø§ÙØ© ØªÙ„ÙÙŠØ§Øª</button>
        </div>
        <div class="form-group">
            <label>Ø§Ù„ØªÙ„ÙÙŠØ§Øª Ø§Ù„Ø­Ø§Ù„ÙŠØ©:</label>
            <select id="current-damages-list" size="5" style="flex: 1; min-height: 120px;"></select>
        </div>
        <div class="copy-button-container">
            <button class="back-button" onclick="removeSelectedDamage()">ğŸ—‘ Ø­Ø°Ù Ø§Ù„Ù…Ø­Ø¯Ø¯</button>
        </div>

        <h2>ğŸ Ø¥Ø¯Ø§Ø±Ø© ØªØ¨Ø§Ø·Ø¤ Ø­Ø±ÙƒØ© Ø§Ù„Ù…Ø±ÙˆØ±</h2>
        <div class="form-group">
            <label for="new-traffic-delay">ØªØ¨Ø§Ø·Ø¤ Ø¬Ø¯ÙŠØ¯:</label>
            <input type="text" id="new-traffic-delay" placeholder="Ø£Ø¯Ø®Ù„ ÙˆØµÙ ØªØ¨Ø§Ø·Ø¤ Ø¬Ø¯ÙŠØ¯">
        </div>
        <div class="copy-button-container">
            <button class="copy-button" onclick="addTrafficDelay()">â• Ø¥Ø¶Ø§ÙØ© ØªØ¨Ø§Ø·Ø¤</button>
        </div>
        <div class="form-group">
            <label>Ø§Ù„ØªØ¨Ø§Ø·Ø¤ Ø§Ù„Ø­Ø§Ù„ÙŠ:</label>
            <select id="current-traffic-delays-list" size="5" style="flex: 1; min-height: 120px;"></select>
        </div>
        <div class="copy-button-container">
            <button class="back-button" onclick="removeSelectedTrafficDelay()">ğŸ—‘ Ø­Ø°Ù Ø§Ù„Ù…Ø­Ø¯Ø¯</button>
        </div>

        <div class="copy-button-container" style="margin-top: 50px;">
            <button class="back-button" onclick="showInitialPage()">Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
        </div>
    </div>

    <div id="reportModal" class="modal">
        <div class="modal-content">
            <span class="close-button" onclick="closeReportModal()">&times;</span>
            <h3>Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø¬Ø§Ù‡Ø² Ù„Ù„Ù†Ø³Ø®</h3>
            <textarea id="report-output" readonly></textarea>
            <div class="modal-copy-button-container">
                <button class="modal-copy-button" onclick="copyTextFromModal()">Ù†Ø³Ø® Ø§Ù„Ù†Øµ</button>
            </div>
        </div>
    </div>

    <script>
        let accidentType = 'normal';

        const defaultRoads = [{ name: 'Ù…ÙƒØ© Ø§Ù„Ù…ÙƒØ±Ù…Ø© / Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„Ù…Ù†ÙˆØ±Ø©', number: '15' }];
        const defaultAccidentReasons = [
            "Ø¹Ø¯Ù… Ø§Ù„Ø§Ù†ØªØ¨Ø§Ù‡ Ø£Ø¯Ù‰ Ø¥Ù„Ù‰ Ø§Ù†Ø­Ø±Ø§Ù Ø§Ù„Ù…Ø±ÙƒØ¨Ø© ÙˆØ§Ù†Ù‚Ù„Ø§Ø¨Ù‡Ø§ ÙÙŠ Ø§Ù„Ø·Ø±ÙŠÙ‚.",
            "Ø¹Ø¯Ù… Ø§Ù„Ø§Ù†ØªØ¨Ø§Ù‡ Ø£Ø¯Ù‰ Ø¥Ù„Ù‰ Ø§Ù†Ø­Ø±Ø§Ù Ø§Ù„Ù…Ø±ÙƒØ¨Ø© ÙˆØ§Ù†Ù‚Ù„Ø§Ø¨Ù‡Ø§ Ø®Ø§Ø±Ø¬ Ø§Ù„Ø·Ø±ÙŠÙ‚.",
            "Ø¹Ø¯Ù… Ø§Ù„Ø§Ù†ØªØ¨Ø§Ù‡ Ø£Ø¯Ù‰ Ø¥Ù„Ù‰ Ø§Ù†Ø­Ø±Ø§Ù Ø®Ø§Ø±Ø¬ Ø§Ù„Ø·Ø±ÙŠÙ‚.",
            "Ø¹Ø¯Ù… Ø§Ù„Ø§Ù†ØªØ¨Ø§Ù‡ Ø£Ø¯Ù‰ Ø¥Ù„Ù‰ Ø§Ù†Ø­Ø±Ø§Ù Ø§Ù„Ù…Ø±ÙƒØ¨Ø© ÙˆØ§ØµØ¯Ø§Ù…Ù‡Ø§ ÙÙŠ Ø§Ù„Ø­Ø§Ø¬Ø² Ø§Ù„Ù…Ø¹Ø¯Ù†ÙŠ.",
            "Ø¹Ø¯Ù… Ø§Ù„Ø§Ù†ØªØ¨Ø§Ù‡ Ø£Ø¯Ù‰ Ø¥Ù„Ù‰ Ø§Ù†Ø­Ø±Ø§Ù Ø§Ù„Ù…Ø±ÙƒØ¨Ø© ÙˆØ§ØµØ¯Ø§Ù…Ù‡Ø§ ÙÙŠ Ø§Ù„Ø­Ø§Ø¬Ø² Ø§Ù„Ù…Ø¹Ø¯Ù†ÙŠ Ø«Ù… Ø§Ù†Ù‚Ù„Ø§Ø¨Ù‡Ø§ Ø®Ø§Ø±Ø¬ Ø§Ù„Ø·Ø±ÙŠÙ‚.",
            "Ø¹Ø¯Ù… Ø§Ù„Ø§Ù†ØªØ¨Ø§Ù‡ Ø£Ø¯Ù‰ Ø¥Ù„Ù‰ Ø§Ù†Ø­Ø±Ø§Ù Ø§Ù„Ù…Ø±ÙƒØ¨Ø© ÙˆØ§ØµØ¯Ø§Ù…Ù‡Ø§ ÙÙŠ Ø§Ù„Ø­Ø§Ø¬Ø² Ø§Ù„Ù…Ø¹Ø¯Ù†ÙŠ ÙˆØ§Ù†Ù‚Ù„Ø§Ø¨Ù‡Ø§.",
            "Ø¹Ø¯Ù… Ø§Ù„Ø§Ù†ØªØ¨Ø§Ù‡ Ø£Ø¯Ù‰ Ø¥Ù„Ù‰ Ø§Ù†Ø­Ø±Ø§Ù Ø§Ù„Ù…Ø±ÙƒØ¨Ø© ÙˆØ§ØµØ¯Ø§Ù…Ù‡Ø§ ÙÙŠ Ø§Ù„Ø­Ø§Ø¬Ø² Ø§Ù„Ø®Ø±Ø³Ø§Ù†ÙŠ",
            "Ø¹Ø¯Ù… Ø§Ù„Ø§Ù†ØªØ¨Ø§Ù‡ Ø£Ø¯Ù‰ Ø¥Ù„Ù‰ Ø§Ù†Ø­Ø±Ø§Ù Ø§Ù„Ù…Ø±ÙƒØ¨Ø© ÙˆØ§ØµØ¯Ø§Ù…Ù‡Ø§ ÙÙŠ Ø§Ù„Ø­Ø§Ø¬Ø² Ø§Ù„Ø®Ø±Ø³Ø§Ù†ÙŠ Ø«Ù… Ø§Ù†Ù‚Ù„Ø§Ø¨Ù‡Ø§ Ø®Ø§Ø±Ø¬ Ø§Ù„Ø·Ø±ÙŠÙ‚.",
            "Ø¹Ø¯Ù… Ø§Ù„Ø§Ù†ØªØ¨Ø§Ù‡ Ø£Ø¯Ù‰ Ø¥Ù„Ù‰ Ø§Ù†Ø­Ø±Ø§Ù Ø§Ù„Ù…Ø±ÙƒØ¨Ø© ÙˆØ§ØµØ¯Ø§Ù…Ù‡Ø§ ÙÙŠ Ø§Ù„Ø­Ø§Ø¬Ø² Ø§Ù„Ø®Ø±Ø³Ø§Ù†ÙŠ ÙˆØ§Ù†Ù‚Ù„Ø§Ø¨Ù‡Ø§.",
            "Ø¹Ø¯Ù… Ø§Ù„Ø§Ù†ØªØ¨Ø§Ù‡ Ø£Ø¯Ù‰ Ø¥Ù„Ù‰ Ø§Ù†Ø­Ø±Ø§Ù Ø§Ù„Ù…Ø±ÙƒØ¨Ø© ÙˆØ§ØµØ¯Ø§Ù…Ù‡Ø§ ÙÙŠ Ø§Ù„Ø³ÙŠØ§Ø¬ Ø§Ù„Ø³Ù„ÙƒÙŠ.",
            "Ø¹Ø¯Ù… Ø§Ù„Ø§Ù†ØªØ¨Ø§Ù‡ Ø£Ø¯Ù‰ Ø¥Ù„Ù‰ Ø§Ù†Ø­Ø±Ø§Ù Ø§Ù„Ù…Ø±ÙƒØ¨Ø© ÙˆØ§ØµØ¯Ø§Ù…Ù‡Ø§ ÙÙŠ Ø§Ù„Ø³ÙŠØ§Ø¬ Ø§Ù„Ø³Ù„ÙƒÙŠ ÙˆØ§Ù†Ù‚Ù„Ø§Ø¨Ù‡Ø§.",
            "Ø¹Ø¯Ù… Ø§Ù„Ø§Ù†ØªØ¨Ø§Ù‡ Ø£Ø¯Ù‰ Ø¥Ù„Ù‰ Ø§Ù†Ø­Ø±Ø§Ù Ø§Ù„Ù…Ø±ÙƒØ¨Ø© ÙˆØ§ØµØ¯Ø§Ù…Ù‡Ø§ ÙÙŠ Ø§Ù„Ø³ÙŠØ§Ø¬ Ø§Ù„Ø³Ù„ÙƒÙŠ Ø«Ù… Ø§Ù†Ù‚Ù„Ø§Ø¨Ù‡Ø§ Ø®Ø§Ø±Ø¬ Ø§Ù„Ø·Ø±ÙŠÙ‚.",
            "Ø¹Ø¯Ù… Ø§Ù„Ø§Ù†ØªØ¨Ø§Ù‡ Ø£Ø¯Ù‰ Ø¥Ù„Ù‰ Ø§Ù†Ø­Ø±Ø§Ù Ø§Ù„Ù…Ø±ÙƒØ¨Ø© ÙˆØ§ØµØ¯Ø§Ù…Ù‡Ø§ ÙÙŠ Ø§Ù„Ø³ÙŠØ§Ø¬ Ø§Ù„Ø³Ù„ÙƒÙŠ Ø«Ù… Ø§Ù†Ù‚Ù„Ø§Ø¨Ù‡Ø§ ÙÙŠ Ø§Ù„Ø¬Ø²ÙŠØ±Ø© Ø§Ù„ÙˆØ³Ø·ÙŠØ©.",
            "Ø¹Ø¯Ù… Ø§Ù„Ø§Ù†ØªØ¨Ø§Ù‡ Ø£Ø¯Ù‰ Ø¥Ù„Ù‰ Ø§ØµØ·Ø¯Ø§Ù… Ø§Ù„Ù…Ø±ÙƒØ¨Ø© ÙÙŠ Ø§Ù„Ø³ÙŠØ§Ø¬ ÙÙŠ Ø§Ù„Ø¬Ø²ÙŠØ±Ø© Ø§Ù„ÙˆØ³Ø·ÙŠØ©.",
            "Ø¹Ø¯Ù… Ø§Ù„Ø§Ù†ØªØ¨Ø§Ù‡ Ø£Ø¯Ù‰ Ø¥Ù„Ù‰ Ø§ØµØ·Ø¯Ø§Ù… Ø§Ù„Ù…Ø±ÙƒØ¨Ø© Ø±Ù‚Ù… 1 ÙÙŠ Ø§Ù„Ù…Ø±ÙƒØ¨Ø© Ø±Ù‚Ù… 2 Ù…Ù† Ø§Ù„Ø®Ù„Ù.",
            "Ø¹Ø¯Ù… Ø§Ù„Ø§Ù†ØªØ¨Ø§Ù‡ Ø£Ø¯Ù‰ Ø¥Ù„Ù‰ Ø§ØµØ·Ø¯Ø§Ù… Ø§Ù„Ù…Ø±ÙƒØ¨Ø© Ø±Ù‚Ù… 1 ÙÙŠ Ø§Ù„Ù…Ø±ÙƒØ¨Ø© Ø±Ù‚Ù… 2 Ù…Ù† Ø§Ù„Ø¬Ù†Ø¨.",
            "Ø¹Ø¯Ù… Ø§Ù„Ø§Ù†ØªØ¨Ø§Ù‡ Ø£Ø¯Ù‰ Ø¥Ù„Ù‰ Ø§ØµØ·Ø¯Ø§Ù… Ø§Ù„Ù…Ø±ÙƒØ¨Ø© Ø±Ù‚Ù… 1 ÙÙŠ Ø§Ù„Ù…Ø±ÙƒØ¨Ø§Øª Ø±Ù‚Ù… 2ØŒ3.",
            "Ø¹Ø¯Ù… Ø§Ù„Ø§Ù†ØªØ¨Ø§Ù‡ Ø£Ø¯Ù‰ Ø¥Ù„Ù‰ Ø§ØµØ·Ø¯Ø§Ù… Ø§Ù„Ù…Ø±ÙƒØ¨Ø© Ø±Ù‚Ù… 1 ÙÙŠ Ø§Ù„Ù…Ø±ÙƒØ¨Ø§Øª Ø±Ù‚Ù… 2ØŒ3ØŒ4.",
            "Ø¹Ø¯Ù… Ø§Ù„Ø§Ù†ØªØ¨Ø§Ù‡ Ø£Ø¯Ù‰ Ø¥Ù„Ù‰ Ø§ØµØ·Ø¯Ø§Ù… Ø§Ù„Ù…Ø±ÙƒØ¨Ø© Ø±Ù‚Ù… 1 ÙÙŠ Ø§Ù„Ù…Ø±ÙƒØ¨Ø© Ø±Ù‚Ù… 2 Ù…Ù† Ø§Ù„Ø®Ù„Ù Ø«Ù… Ø§Ù†Ù‚Ù„Ø§Ø¨Ù‡Ø§ ÙÙŠ Ø§Ù„Ø·Ø±ÙŠÙ‚.",
            "Ø¹Ø¯Ù… Ø§Ù„Ø§Ù†ØªØ¨Ø§Ù‡ Ø£Ø¯Ù‰ Ø¥Ù„Ù‰ Ø§ØµØ·Ø¯Ø§Ù… Ø§Ù„Ù…Ø±ÙƒØ¨Ø© Ø±Ù‚Ù… 1 ÙÙŠ Ø§Ù„Ù…Ø±ÙƒØ¨Ø© Ø±Ù‚Ù… 2 Ù…Ù† Ø§Ù„Ø®Ù„Ù Ø«Ù… Ø§Ù†Ù‚Ù„Ø§Ø¨Ù‡Ø§ Ø®Ø§Ø±Ø¬ Ø§Ù„Ø·Ø±ÙŠÙ‚.",
            "Ø¹Ø¯Ù… Ø§Ù„Ø§Ù†ØªØ¨Ø§Ù‡ Ø£Ø¯Ù‰ Ø¥Ù„Ù‰ Ø§ØµØ·Ø¯Ø§Ù… Ø§Ù„Ù…Ø±ÙƒØ¨Ø© Ø±Ù‚Ù… 1 ÙÙŠ Ø§Ù„Ù…Ø±ÙƒØ¨Ø© Ø±Ù‚Ù… 2 Ù…Ù† Ø§Ù„Ø®Ù„Ù Ø«Ù… Ø§Ù†Ù‚Ù„Ø§Ø¨Ù‡Ø§ ÙÙŠ Ø§Ù„Ø¬Ø²ÙŠØ±Ø© Ø§Ù„ÙˆØ³Ø·ÙŠØ©.",
            "Ø§Ù†ÙØ¬Ø§Ø± Ø§Ù„Ø¥Ø·Ø§Ø± Ø§Ù„Ø£Ù…Ø§Ù…ÙŠ Ø£Ø¯Ù‰ Ø¥Ù„Ù‰ Ø§Ù†Ø­Ø±Ø§Ù Ø§Ù„Ù…Ø±ÙƒØ¨Ø©.",
            "Ø§Ù†ÙØ¬Ø§Ø± Ø§Ù„Ø¥Ø·Ø§Ø± Ø§Ù„Ø£Ù…Ø§Ù…ÙŠ Ø£Ø¯Ù‰ Ø¥Ù„Ù‰ Ø§Ù†Ø­Ø±Ø§Ù Ø§Ù„Ù…Ø±ÙƒØ¨Ø© Ø®Ø§Ø±Ø¬ Ø§Ù„Ø·Ø±ÙŠÙ‚.",
            "Ø§Ù†ÙØ¬Ø§Ø± Ø§Ù„Ø¥Ø·Ø§Ø± Ø§Ù„Ø£Ù…Ø§Ù…ÙŠ Ø£Ø¯Ù‰ Ø¥Ù„Ù‰ Ø§Ù†Ø­Ø±Ø§Ù Ø§Ù„Ù…Ø±ÙƒØ¨Ø© ÙˆØ§Ù†Ù‚Ù„Ø§Ø¨Ù‡Ø§ ÙÙŠ Ø§Ù„Ø·Ø±ÙŠÙ‚.",
            "Ø§Ù†ÙØ¬Ø§Ø± Ø§Ù„Ø¥Ø·Ø§Ø± Ø§Ù„Ø£Ù…Ø§Ù…ÙŠ Ø£Ø¯Ù‰ Ø¥Ù„Ù‰ Ø§Ù†Ø­Ø±Ø§Ù Ø§Ù„Ù…Ø±ÙƒØ¨Ø© ÙˆØ§Ù†Ù‚Ù„Ø§Ø¨Ù‡Ø§ Ø®Ø§Ø±Ø¬ Ø§Ù„Ø·Ø±ÙŠÙ‚.",
            "Ø§Ù†ÙØ¬Ø§Ø± Ø§Ù„Ø¥Ø·Ø§Ø± Ø§Ù„Ø£Ù…Ø§Ù…ÙŠ Ø£Ø¯Ù‰ Ø¥Ù„Ù‰ Ø§Ù†Ø­Ø±Ø§Ù Ø§Ù„Ù…Ø±ÙƒØ¨Ø© Ø±Ù‚Ù… 1 ÙˆØ§ØµØ·Ø¯Ø§Ù…Ù‡Ø§ ÙÙŠ Ø§Ù„Ù…Ø±ÙƒØ¨Ø© Ø±Ù‚Ù… 2 Ù…Ù† Ø§Ù„Ø®Ù„Ù.",
            "Ø§Ù†ÙØ¬Ø§Ø± Ø§Ù„Ø¥Ø·Ø§Ø± Ø§Ù„Ø£Ù…Ø§Ù…ÙŠ Ø£Ø¯Ù‰ Ø¥Ù„Ù‰ Ø§Ù†Ø­Ø±Ø§Ù Ø§Ù„Ù…Ø±ÙƒØ¨Ø© Ø±Ù‚Ù… 1 ÙˆØ§ØµØ·Ø¯Ø§Ù…Ù‡Ø§ ÙÙŠ Ø§Ù„Ù…Ø±ÙƒØ¨Ø© Ø±Ù‚Ù… 2 Ù…Ù† Ø§Ù„Ø¬Ù†Ø¨.",
            "Ø§Ù†ÙØ¬Ø§Ø± Ø§Ù„Ø¥Ø·Ø§Ø± Ø§Ù„Ø£Ù…Ø§Ù…ÙŠ Ø£Ø¯Ù‰ Ø¥Ù„Ù‰ Ø§Ù†Ø­Ø±Ø§Ù Ø§Ù„Ù…Ø±ÙƒØ¨Ø© Ø±Ù‚Ù… 1 ÙˆØ§ØµØ·Ø¯Ø§Ù…Ù‡Ø§ ÙÙŠ Ø§Ù„Ù…Ø±ÙƒØ¨Ø© Ø±Ù‚Ù… 2 Ù…Ù† Ø§Ù„Ø®Ù„Ù Ø«Ù… Ø§Ù†Ù‚Ù„Ø§Ø¨Ù‡Ø§ ÙÙŠ Ø§Ù„Ø·Ø±ÙŠÙ‚.",
            "Ø§Ù†ÙØ¬Ø§Ø± Ø§Ù„Ø¥Ø·Ø§Ø± Ø§Ù„Ø£Ù…Ø§Ù…ÙŠ Ø£Ø¯Ù‰ Ø¥Ù„Ù‰ Ø§Ù†Ø­Ø±Ø§Ù Ø§Ù„Ù…Ø±ÙƒØ¨Ø© Ø±Ù‚Ù… 1 ÙˆØ§ØµØ·Ø¯Ø§Ù…Ù‡Ø§ ÙÙŠ Ø§Ù„Ù…Ø±ÙƒØ¨Ø© Ø±Ù‚Ù… 2 Ù…Ù† Ø§Ù„Ø®Ù„Ù Ø«Ù… Ø§Ù†Ù‚Ù„Ø§Ø¨Ù‡Ø§ Ø®Ø§Ø±Ø¬ Ø§Ù„Ø·Ø±ÙŠÙ‚.",
            "Ø§Ù†ÙØ¬Ø§Ø± Ø§Ù„Ø¥Ø·Ø§Ø± Ø§Ù„Ø£Ù…Ø§Ù…ÙŠ Ø£Ø¯Ù‰ Ø¥Ù„Ù‰ Ø§Ù†Ø­Ø±Ø§Ù Ø§Ù„Ù…Ø±ÙƒØ¨Ø© Ø±Ù‚Ù… 1 ÙˆØ§ØµØ·Ø¯Ø§Ù…Ù‡Ø§ ÙÙŠ Ø§Ù„Ù…Ø±ÙƒØ¨Ø© Ø±Ù‚Ù… 2 Ù…Ù† Ø§Ù„Ø®Ù„Ù Ø«Ù… Ø§Ù†Ù‚Ù„Ø§Ø¨Ù‡Ø§ ÙÙŠ Ø§Ù„Ø¬Ø²ÙŠØ±Ø© Ø§Ù„ÙˆØ³Ø·ÙŠØ©.",
            "Ø§Ù†ÙØ¬Ø§Ø± Ø§Ù„Ø¥Ø·Ø§Ø± Ø§Ù„Ø£Ù…Ø§Ù…ÙŠ Ø£Ø¯Ù‰ Ø¥Ù„Ù‰ Ø§Ù†Ø­Ø±Ø§Ù Ø§Ù„Ù…Ø±ÙƒØ¨Ø© Ø±Ù‚Ù… 1 ÙˆØ§ØµØ·Ø¯Ø§Ù…Ù‡Ø§ ÙÙŠ Ø§Ù„Ù…Ø±ÙƒØ¨Ø© Ø±Ù‚Ù… 2 Ù…Ù† Ø§Ù„Ø®Ù„Ù Ø«Ù… Ø§Ù†Ù‚Ù„Ø§Ø¨Ù‡Ø§ Ø¹Ù„Ù‰ Ø§Ù„Ø³ÙŠØ§Ø¬ Ø§Ù„Ø³Ù„ÙƒÙŠ.",
            "Ø§Ù†ÙØ¬Ø§Ø± Ø§Ù„Ø¥Ø·Ø§Ø± Ø§Ù„Ø£Ù…Ø§Ù…ÙŠ Ø£Ø¯Ù‰ Ø¥Ù„Ù‰ Ø§Ù†Ø­Ø±Ø§Ù Ø§Ù„Ù…Ø±ÙƒØ¨Ø© Ø±Ù‚Ù… 1 ÙˆØ§ØµØ·Ø¯Ø§Ù…Ù‡Ø§ ÙÙŠ Ø§Ù„Ù…Ø±ÙƒØ¨Ø© Ø±Ù‚Ù… 2 Ù…Ù† Ø§Ù„Ø®Ù„Ù Ø«Ù… Ø§Ù†Ù‚Ù„Ø§Ø¨Ù‡Ø§ Ø¹Ù„Ù‰ Ø§Ù„Ø³ÙŠØ§Ø¬ Ø§Ù„Ø³Ù„ÙƒÙŠ Ø¨Ø§Ù„Ø¬Ø²ÙŠØ±Ø© Ø§Ù„ÙˆØ³Ø·ÙŠØ©.",
            "Ø§Ù†ÙØ¬Ø§Ø± Ø§Ù„Ø¥Ø·Ø§Ø± Ø§Ù„Ø£Ù…Ø§Ù…ÙŠ Ø£Ø¯Ù‰ Ø¥Ù„Ù‰ Ø§Ù†Ø­Ø±Ø§Ù Ø§Ù„Ù…Ø±ÙƒØ¨Ø© Ø±Ù‚Ù… 1 ÙˆØ§ØµØ·Ø¯Ø§Ù…Ù‡Ø§ ÙÙŠ Ø§Ù„Ù…Ø±ÙƒØ¨Ø© Ø±Ù‚Ù… 2 Ù…Ù† Ø§Ù„Ø®Ù„Ù Ø«Ù… Ø§Ù†Ù‚Ù„Ø§Ø¨Ù‡Ø§ Ø¹Ù„Ù‰ Ø§Ù„Ø­Ø§Ø¬Ø² Ø§Ù„Ù…Ø¹Ø¯Ù†ÙŠ.",
            "Ø§Ù†ÙØ¬Ø§Ø± Ø§Ù„Ø¥Ø·Ø§Ø± Ø§Ù„Ø£Ù…Ø§Ù…ÙŠ Ø£Ø¯Ù‰ Ø¥Ù„Ù‰ Ø§Ù†Ø­Ø±Ø§Ù Ø§Ù„Ù…Ø±ÙƒØ¨Ø© Ø±Ù‚Ù… 1 ÙˆØ§ØµØ·Ø¯Ø§Ù…Ù‡Ø§ ÙÙŠ Ø§Ù„Ù…Ø±ÙƒØ¨Ø© Ø±Ù‚Ù… 2 Ù…Ù† Ø§Ù„Ø®Ù„Ù Ø«Ù… Ø§Ù†Ù‚Ù„Ø§Ø¨Ù‡Ø§ Ø¹Ù„Ù‰ Ø§Ù„Ø­Ø§Ø¬Ø² Ø§Ù„Ø®Ø±Ø³Ø§Ù†ÙŠ.",
            "Ø§Ù†ÙØ¬Ø§Ø± Ø§Ù„Ø¥Ø·Ø§Ø± Ø§Ù„Ø®Ù„ÙÙŠ Ø£Ø¯Ù‰ Ø¥Ù„Ù‰ Ø§Ù†Ø­Ø±Ø§Ù Ø§Ù„Ù…Ø±ÙƒØ¨Ø©.",
            "Ø§Ù†ÙØ¬Ø§Ø± Ø§Ù„Ø¥Ø·Ø§Ø± Ø§Ù„Ø®Ù„ÙÙŠ Ø£Ø¯Ù‰ Ø¥Ù„Ù‰ Ø§Ù†Ø­Ø±Ø§Ù Ø§Ù„Ù…Ø±ÙƒØ¨Ø© Ø®Ø§Ø±Ø¬ Ø§Ù„Ø·Ø±ÙŠÙ‚.",
            "Ø§Ù†ÙØ¬Ø§Ø± Ø§Ù„Ø¥Ø·Ø§Ø± Ø§Ù„Ø®Ù„ÙÙŠ Ø£Ø¯Ù‰ Ø¥Ù„Ù‰ Ø§Ù†Ø­Ø±Ø§Ù Ø§Ù„Ù…Ø±ÙƒØ¨Ø© ÙˆØ§Ù†Ù‚Ù„Ø§Ø¨Ù‡Ø§ ÙÙŠ Ø§Ù„Ø·Ø±ÙŠÙ‚.",
            "Ø§Ù†ÙØ¬Ø§Ø± Ø§Ù„Ø¥Ø·Ø§Ø± Ø§Ù„Ø®Ù„ÙÙŠ Ø£Ø¯Ù‰ Ø¥Ù„Ù‰ Ø§Ù†Ø­Ø±Ø§Ù Ø§Ù„Ù…Ø±ÙƒØ¨Ø© ÙˆØ§Ù†Ù‚Ù„Ø§Ø¨Ù‡Ø§ Ø®Ø§Ø±Ø¬ Ø§Ù„Ø·Ø±ÙŠÙ‚.",
            "Ø§Ù†ÙØ¬Ø§Ø± Ø§Ù„Ø¥Ø·Ø§Ø± Ø§Ù„Ø®Ù„ÙÙŠ Ø£Ø¯Ù‰ Ø¥Ù„Ù‰ Ø§Ù†Ø­Ø±Ø§Ù Ø§Ù„Ù…Ø±ÙƒØ¨Ø© Ø±Ù‚Ù… 1 ÙˆØ§ØµØ·Ø¯Ø§Ù…Ù‡Ø§ ÙÙŠ Ø§Ù„Ù…Ø±ÙƒØ¨Ø© Ø±Ù‚Ù… 2 Ù…Ù† Ø§Ù„Ø®Ù„Ù.",
            "Ø§Ù†ÙØ¬Ø§Ø± Ø§Ù„Ø¥Ø·Ø§Ø± Ø§Ù„Ø®Ù„ÙÙŠ Ø£Ø¯Ù‰ Ø¥Ù„Ù‰ Ø§Ù†Ø­Ø±Ø§Ù Ø§Ù„Ù…Ø±ÙƒØ¨Ø© Ø±Ù‚Ù… 1 ÙˆØ§ØµØ·Ø¯Ø§Ù…Ù‡Ø§ ÙÙŠ Ø§Ù„Ù…Ø±ÙƒØ¨Ø© Ø±Ù‚Ù… 2 Ù…Ù† Ø§Ù„Ø¬Ù†Ø¨.",
            "Ø§Ù†ÙØ¬Ø§Ø± Ø§Ù„Ø¥Ø·Ø§Ø± Ø§Ù„Ø®Ù„ÙÙŠ Ø£Ø¯Ù‰ Ø¥Ù„Ù‰ Ø§Ù†Ø­Ø±Ø§Ù Ø§Ù„Ù…Ø±ÙƒØ¨Ø© Ø±Ù‚Ù… 1 ÙˆØ§ØµØ·Ø¯Ø§Ù…Ù‡Ø§ ÙÙŠ Ø§Ù„Ù…Ø±ÙƒØ¨Ø© Ø±Ù‚Ù… 2 Ù…Ù† Ø§Ù„Ø®Ù„Ù Ø«Ù… Ø§Ù†Ù‚Ù„Ø§Ø¨Ù‡Ø§ ÙÙŠ Ø§Ù„Ø·Ø±ÙŠÙ‚.",
            "Ø§Ù†ÙØ¬Ø§Ø± Ø§Ù„Ø¥Ø·Ø§Ø± Ø§Ù„Ø®Ù„ÙÙŠ Ø£Ø¯Ù‰ Ø¥Ù„Ù‰ Ø§Ù†Ø­Ø±Ø§Ù Ø§Ù„Ù…Ø±ÙƒØ¨Ø© Ø±Ù‚Ù… 1 ÙˆØ§ØµØ·Ø¯Ø§Ù…Ù‡Ø§ ÙÙŠ Ø§Ù„Ù…Ø±ÙƒØ¨Ø© Ø±Ù‚Ù… 2 Ù…Ù† Ø§Ù„Ø®Ù„Ù Ø«Ù… Ø§Ù†Ù‚Ù„Ø§Ø¨Ù‡Ø§ Ø®Ø§Ø±Ø¬ Ø§Ù„Ø·Ø±ÙŠÙ‚.",
            "Ø§Ù†ÙØ¬Ø§Ø± Ø§Ù„Ø¥Ø·Ø§Ø± Ø§Ù„Ø®Ù„ÙÙŠ Ø£Ø¯Ù‰ Ø¥Ù„Ù‰ Ø§Ù†Ø­Ø±Ø§Ù Ø§Ù„Ù…Ø±ÙƒØ¨Ø© Ø±Ù‚Ù… 1 ÙˆØ§ØµØ·Ø¯Ø§Ù…Ù‡Ø§ ÙÙŠ Ø§Ù„Ù…Ø±ÙƒØ¨Ø© Ø±Ù‚Ù… 2 Ù…Ù† Ø§Ù„Ø®Ù„Ù Ø«Ù… Ø§Ù†Ù‚Ù„Ø§Ø¨Ù‡Ø§ ÙÙŠ Ø§Ù„Ø¬Ø²ÙŠØ±Ø© Ø§Ù„ÙˆØ³Ø·ÙŠØ©.",
            "Ø§Ù†ÙØ¬Ø§Ø± Ø§Ù„Ø¥Ø·Ø§Ø± Ø§Ù„Ø®Ù„ÙÙŠ Ø£Ø¯Ù‰ Ø¥Ù„Ù‰ Ø§Ù†Ø­Ø±Ø§Ù Ø§Ù„Ù…Ø±ÙƒØ¨Ø© Ø±Ù‚Ù… 1 ÙˆØ§ØµØ·Ø¯Ø§Ù…Ù‡Ø§ ÙÙŠ Ø§Ù„Ù…Ø±ÙƒØ¨Ø© Ø±Ù‚Ù… 2 Ù…Ù† Ø§Ù„Ø®Ù„Ù Ø«Ù… Ø§Ù†Ù‚Ù„Ø§Ø¨Ù‡Ø§ Ø¹Ù„Ù‰ Ø§Ù„Ø³ÙŠØ§Ø¬ Ø§Ù„Ø³Ù„ÙƒÙŠ.",
            "Ø§Ù†ÙØ¬Ø§Ø± Ø§Ù„Ø¥Ø·Ø§Ø± Ø§Ù„Ø®Ù„ÙÙŠ Ø£Ø¯Ù‰ Ø¥Ù„Ù‰ Ø§Ù†Ø­Ø±Ø§Ù Ø§Ù„Ù…Ø±ÙƒØ¨Ø© Ø±Ù‚Ù… 1 ÙˆØ§ØµØ·Ø¯Ø§Ù…Ù‡Ø§ ÙÙŠ Ø§Ù„Ù…Ø±ÙƒØ¨Ø© Ø±Ù‚Ù… 2 Ù…Ù† Ø§Ù„Ø®Ù„Ù Ø«Ù… Ø§Ù†Ù‚Ù„Ø§Ø¨Ù‡Ø§ Ø¹Ù„Ù‰ Ø§Ù„Ø³ÙŠØ§Ø¬ Ø§Ù„Ø³Ù„ÙƒÙŠ Ø¨Ø§Ù„Ø¬Ø²ÙŠØ±Ø© Ø§Ù„ÙˆØ³Ø·ÙŠØ©.",
            "Ø§Ù†ÙØ¬Ø§Ø± Ø§Ù„Ø¥Ø·Ø§Ø± Ø§Ù„Ø®Ù„ÙÙŠ Ø£Ø¯Ù‰ Ø¥Ù„Ù‰ Ø§Ù†Ø­Ø±Ø§Ù Ø§Ù„Ù…Ø±ÙƒØ¨Ø© Ø±Ù‚Ù… 1 ÙˆØ§ØµØ·Ø¯Ø§Ù…Ù‡Ø§ ÙÙŠ Ø§Ù„Ù…Ø±ÙƒØ¨Ø© Ø±Ù‚Ù… 2 Ù…Ù† Ø§Ù„Ø®Ù„Ù Ø«Ù… Ø§Ù†Ù‚Ù„Ø§Ø¨Ù‡Ø§ Ø¹Ù„Ù‰ Ø§Ù„Ø­Ø§Ø¬Ø² Ø§Ù„Ù…Ø¹Ø¯Ù†ÙŠ.",
            "Ø§Ù†ÙØ¬Ø§Ø± Ø§Ù„Ø¥Ø·Ø§Ø± Ø§Ù„Ø®Ù„ÙÙŠ Ø£Ø¯Ù‰ Ø¥Ù„Ù‰ Ø§Ù†Ø­Ø±Ø§Ù Ø§Ù„Ù…Ø±ÙƒØ¨Ø© Ø±Ù‚Ù… 1 ÙˆØ§ØµØ·Ø¯Ø§Ù…Ù‡Ø§ ÙÙŠ Ø§Ù„Ù…Ø±ÙƒØ¨Ø© Ø±Ù‚Ù… 2 Ù…Ù† Ø§Ù„Ø®Ù„Ù Ø«Ù… Ø§Ù†Ù‚Ù„Ø§Ø¨Ù‡Ø§ Ø¹Ù„Ù‰ Ø§Ù„Ø­Ø§Ø¬Ø² Ø§Ù„Ø®Ø±Ø³Ø§Ù†ÙŠ."
        ];
        const defaultDamages = ['Ù„Ø§ÙŠÙˆØ¬Ø¯', 'ØªÙ„ÙÙŠØ§Øª Ø¨Ø³ÙŠØ·Ø©', 'ØªÙ„ÙÙŠØ§Øª Ù…ØªÙˆØ³Ø·Ø©', 'ØªÙ„ÙÙŠØ§Øª Ø¬Ø³ÙŠÙ…Ø©'];
        const defaultTrafficDelays = [
            "Ù„Ø§ ÙŠÙˆØ¬Ø¯ ØªØ¨Ø§Ø·Ø¤",
            "ÙŠÙˆØ¬Ø¯ ØªØ¨Ø§Ø·Ø¤ Ø¨Ø³Ø¨Ø¨ Ø¥ØºÙ„Ø§Ù‚ Ù…Ø³Ø§Ø± ÙˆØ§Ø­Ø¯ ( Ù…Ø³Ø§Ø± Ø§Ù„Ø´Ø§Ø­Ù†Ø§Øª ).",
            "ÙŠÙˆØ¬Ø¯ ØªØ¨Ø§Ø·Ø¤ Ø¨Ø³Ø¨Ø¨ Ø¥ØºÙ„Ø§Ù‚ Ù…Ø³Ø§Ø± ÙˆØ§Ø­Ø¯ ( Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„Ø£ÙˆØ³Ø· ).",
            "ÙŠÙˆØ¬Ø¯ ØªØ¨Ø§Ø·Ø¤ Ø¨Ø³Ø¨Ø¨ Ø¥ØºÙ„Ø§Ù‚ Ù…Ø³Ø§Ø± ÙˆØ§Ø­Ø¯ ( Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„Ø³Ø±ÙŠØ¹ ).",
            "ÙŠÙˆØ¬Ø¯ ØªØ¨Ø§Ø·Ø¤ Ø¨Ø³Ø¨Ø¨ Ø¥ØºÙ„Ø§Ù‚ Ù…Ø³Ø§Ø±ÙŠÙ† ( Ù…Ø³Ø§Ø± Ø§Ù„Ø´Ø§Ø­Ù†Ø§Øª + Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„Ø£ÙˆØ³Ø·)",
            "ÙŠÙˆØ¬Ø¯ ØªØ¨Ø§Ø·Ø¤ Ø¨Ø³Ø¨Ø¨ Ø¥ØºÙ„Ø§Ù‚ Ù…Ø³Ø§Ø±ÙŠÙ† ( Ù…Ø³Ø§Ø± Ø§Ù„Ø´Ø§Ø­Ù†Ø§Øª + Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„Ø³Ø±ÙŠØ¹ )",
            "ÙŠÙˆØ¬Ø¯ ØªØ¨Ø§Ø·Ø¤ Ø¨Ø³Ø¨Ø¨ Ø¥ØºÙ„Ø§Ù‚ Ù…Ø³Ø§Ø±ÙŠÙ† ( Ù…Ø³Ø§Ø± Ø§Ù„Ø£ÙˆØ³Ø· + Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„Ø³Ø±ÙŠØ¹ )",
            "Ø§Ù„Ø·Ø±ÙŠÙ‚ Ù…ØºÙ„Ù‚ Ø¨Ø§Ù„ÙƒØ§Ù…Ù„"
        ];

        const defaultCarModels = []; 

        let roads = [];
        let accidentReasons = [];
        let damages = [];
        let trafficDelays = [];
        let carModels = [];

        function loadData(key, defaultValue) {
            const data = localStorage.getItem(key);
            return data ? JSON.parse(data) : defaultValue;
        }

        function saveData(key, data) {
            localStorage.setItem(key, JSON.stringify(data));
        }

        function populateRoadSelect() {
            const select = document.getElementById('road-name-select');
            select.innerHTML = '';
            roads.forEach(road => {
                const option = document.createElement('option');
                option.value = road.number;
                option.textContent = road.name;
                select.appendChild(option);
            });
            if (roads.length > 0) {
                const currentRoadNumber = document.getElementById('road-number-display').value;
                const foundRoad = roads.find(road => road.number === currentRoadNumber);
                if (foundRoad) {
                    select.value = foundRoad.number;
                } else {
                    select.value = roads[0].number;
                    document.getElementById('road-number-display').value = roads[0].number;
                }
            } else {
                document.getElementById('road-number-display').value = '';
            }
        }

        function populateAccidentReasonsDatalist() {
            const datalist = document.getElementById('accident-reason-options');
            datalist.innerHTML = '';
            accidentReasons.forEach(reason => {
                const option = document.createElement('option');
                option.value = reason;
                datalist.appendChild(option);
            });
        }

        function populateDamagesDatalist() {
            const datalist = document.getElementById('damages-options');
            datalist.innerHTML = '';
            damages.forEach(damage => {
                const option = document.createElement('option');
                option.value = damage;
                datalist.appendChild(option);
            });
        }

        function populateTrafficDelaysDatalist() {
            const datalist = document.getElementById('traffic-delay-options');
            datalist.innerHTML = '';
            trafficDelays.forEach(delay => {
                const option = document.createElement('option');
                option.value = delay;
                datalist.appendChild(option);
            });
        }

        function populateCarModelsDatalist() {
            const datalist = document.getElementById('car-models-options');
            datalist.innerHTML = '';
            carModels.forEach(model => {
                const option = document.createElement('option');
                option.value = model;
                datalist.appendChild(option);
            });
        }

        function populateSettingsRoadsList() {
            const select = document.getElementById('current-roads-list');
            select.innerHTML = '';
            roads.forEach((road, index) => {
                const option = document.createElement('option');
                option.value = index;
                option.textContent = ${road.name} (Ø±Ù‚Ù…: ${road.number});
                select.appendChild(option);
            });
        }

        function populateSettingsAccidentReasonsList() {
            const select = document.getElementById('current-accident-reasons-list');
            select.innerHTML = '';
            accidentReasons.forEach((reason, index) => {
                const option = document.createElement('option');
                option.value = index;
                option.textContent = reason;
                select.appendChild(option);
            });
        }

        function populateSettingsDamagesList() {
            const select = document.getElementById('current-damages-list');
            select.innerHTML = '';
            damages.forEach((damage, index) => {
                const option = document.createElement('option');
                option.value = index;
                option.textContent = damage;
                select.appendChild(option);
            });
        }

        function populateSettingsTrafficDelaysList() {
            const select = document.getElementById('current-traffic-delays-list');
            select.innerHTML = '';
            trafficDelays.forEach((delay, index) => {
                const option = document.createElement('option');
                option.value = index;
                option.textContent = delay;
                select.appendChild(option);
            });
        }

        function populateSettingsCarModelsList() {
            const select = document.getElementById('current-car-models-list');
            select.innerHTML = '';
            carModels.forEach((model, index) => {
                const option = document.createElement('option');
                option.value = index;
                option.textContent = model;
                select.appendChild(option);
            });
        }

        function addRoad() {
            const nameInput = document.getElementById('new-road-name');
            const numberInput = document.getElementById('new-road-number');
            const newRoadName = nameInput.value.trim();
            const newRoadNumber = numberInput.value.trim();

            if (newRoadName && newRoadNumber) {
                if (!roads.some(road => road.name === newRoadName && road.number === newRoadNumber)) {
                    roads.push({ name: newRoadName, number: newRoadNumber });
                    saveData('roads', roads);
                    populateSettingsRoadsList();
                    populateRoadSelect();
                    nameInput.value = '';
                    numberInput.value = '';
                } else {
                    alert('Ù‡Ø°Ø§ Ø§Ù„Ø·Ø±ÙŠÙ‚ Ù…ÙˆØ¬ÙˆØ¯ Ø¨Ø§Ù„ÙØ¹Ù„.');
                }
            } else {
                alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… ÙˆØ±Ù‚Ù… Ø§Ù„Ø·Ø±ÙŠÙ‚.');
            }
        }

        function removeSelectedRoad() {
            const select = document.getElementById('current-roads-list');
            const selectedIndex = select.value;
            if (selectedIndex !== null && selectedIndex !== "") {
                roads.splice(parseInt(selectedIndex), 1);
                saveData('roads', roads);
                populateSettingsRoadsList();
                populateRoadSelect();
            } else {
                alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± Ø·Ø±ÙŠÙ‚ Ù„Ø­Ø°ÙÙ‡.');
            }
        }

        function addCarModel() {
            const companyInput = document.getElementById('new-car-company');
            const modelInput = document.getElementById('new-car-model');
            const newCompany = companyInput.value.trim();
            const newModel = modelInput.value.trim();
            const fullModelName = ${newCompany} ${newModel}.trim();

            if (newCompany && newModel) {
                if (!carModels.includes(fullModelName)) {
                    carModels.push(fullModelName);
                    saveData('carModels', carModels);
                    populateSettingsCarModelsList();
                    populateCarModelsDatalist();
                    companyInput.value = '';
                    modelInput.value = '';
                } else {
                    alert('Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø±ÙƒØ¨Ø© Ù…ÙˆØ¬ÙˆØ¯Ø© Ø¨Ø§Ù„ÙØ¹Ù„.');
                }
            } else {
                alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø§Ù„Ø´Ø±ÙƒØ© ÙˆØ§Ø³Ù… Ø§Ù„Ù…Ø±ÙƒØ¨Ø©.');
            }
        }

        function removeSelectedCarModel() {
            const select = document.getElementById('current-car-models-list');
            const selectedIndex = select.value;
            if (selectedIndex !== null && selectedIndex !== "") {
                carModels.splice(parseInt(selectedIndex), 1);
                saveData('carModels', carModels);
                populateSettingsCarModelsList();
                populateCarModelsDatalist();
            } else {
                alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± Ù…Ø±ÙƒØ¨Ø© Ù„Ø­Ø°ÙÙ‡Ø§.');
            }
        }

        function addAccidentReason() {
            const input = document.getElementById('new-accident-reason');
            const newReason = input.value.trim();
            if (newReason && !accidentReasons.includes(newReason)) {
                accidentReasons.push(newReason);
                saveData('accidentReasons', accidentReasons);
                populateSettingsAccidentReasonsList();
                populateAccidentReasonsDatalist();
                input.value = '';
            } else if (accidentReasons.includes(newReason)) {
                alert('Ù‡Ø°Ø§ Ø§Ù„Ø³Ø¨Ø¨ Ù…ÙˆØ¬ÙˆØ¯ Ø¨Ø§Ù„ÙØ¹Ù„.');
            } else {
                alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø³Ø¨Ø¨ Ø­Ø§Ø¯Ø« Ø¬Ø¯ÙŠØ¯.');
            }
        }

        function removeSelectedAccidentReason() {
            const select = document.getElementById('current-accident-reasons-list');
            const selectedIndex = select.value;
            if (selectedIndex !== null && selectedIndex !== "") {
                accidentReasons.splice(parseInt(selectedIndex), 1);
                saveData('accidentReasons', accidentReasons);
                populateSettingsAccidentReasonsList();
                populateAccidentReasonsDatalist();
            } else {
                alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± Ø³Ø¨Ø¨ Ù„Ø­Ø°ÙÙ‡.');
            }
        }

        function addDamage() {
            const input = document.getElementById('new-damage');
            const newDamage = input.value.trim();
            if (newDamage && !damages.includes(newDamage)) {
                damages.push(newDamage);
                saveData('damages', damages);
                populateSettingsDamagesList();
                populateDamagesDatalist();
                input.value = '';
            } else if (damages.includes(newDamage)) {
                alert('Ù‡Ø°Ø§ Ø§Ù„ÙˆØµÙ Ù…ÙˆØ¬ÙˆØ¯ Ø¨Ø§Ù„ÙØ¹Ù„.');
            } else {
                alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ ÙˆØµÙ ØªÙ„ÙÙŠØ§Øª Ø¬Ø¯ÙŠØ¯.');
            }
        }

        function removeSelectedDamage() {
            const select = document.getElementById('current-damages-list');
            const selectedIndex = select.value;
            if (selectedIndex !== null && selectedIndex !== "") {
                damages.splice(parseInt(selectedIndex), 1);
                saveData('damages', damages);
                populateSettingsDamagesList();
                populateDamagesDatalist();
            } else {
                alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± ØªÙ„ÙÙŠØ§Øª Ù„Ø­Ø°ÙÙ‡Ø§.');
            }
        }

        function addTrafficDelay() {
            const input = document.getElementById('new-traffic-delay');
            const newDelay = input.value.trim();
            if (newDelay && !trafficDelays.includes(newDelay)) {
                trafficDelays.push(newDelay);
                saveData('trafficDelays', trafficDelays);
                populateSettingsTrafficDelaysList();
                populateTrafficDelaysDatalist();
                input.value = '';
            } else if (trafficDelays.includes(newDelay)) {
                alert('Ù‡Ø°Ø§ Ø§Ù„ÙˆØµÙ Ù…ÙˆØ¬ÙˆØ¯ Ø¨Ø§Ù„ÙØ¹Ù„.');
            } else {
                alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ ÙˆØµÙ ØªØ¨Ø§Ø·Ø¤ Ø¬Ø¯ÙŠØ¯.');
            }
        }

        function removeSelectedTrafficDelay() {
            const select = document.getElementById('current-traffic-delays-list');
            const selectedIndex = select.value;
            if (selectedIndex !== null && selectedIndex !== "") {
                trafficDelays.splice(parseInt(selectedIndex), 1);
                saveData('trafficDelays', trafficDelays);
                populateSettingsTrafficDelaysList();
                populateTrafficDelaysDatalist();
            } else {
                alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± ØªØ¨Ø§Ø·Ø¤ Ù„Ø­Ø°ÙÙ‡.');
            }
        }

        function generateCarInputs(count) {
            const container = document.getElementById('car-details-container');
            container.innerHTML = '';
            for (let i = 1; i <= count; i++) {
                const carDetailHtml = `
                    <div class="car-details">
                        <h4>Ø§Ù„Ø³ÙŠØ§Ø±Ø© Ø±Ù‚Ù… ${i}</h4>
                        <div class="form-group">
                            <label for="car-type-${i}">Ù†ÙˆØ¹Ù‡Ø§ :</label>
                            <input type="text" id="car-type-${i}" list="car-models-options" placeholder="Ø§Ø¯Ø®Ù„ Ù†ÙˆØ¹ Ø§Ù„Ù…Ø±ÙƒØ¨Ø©">
                        </div>
                        <div class="form-group car-plate-numbers">
                            <label>Ø±Ù‚Ù… Ø§Ù„Ù„ÙˆØ­Ø© :</label>
                            <span>(</span>
                            <input type="text" id="plate-letters-${i}" maxlength="3" placeholder="Ø£Ø­Ø±Ù">
                            <span>/</span>
                            <input type="number" id="plate-numbers-${i}" maxlength="4" placeholder="Ø£Ø±Ù‚Ø§Ù…">
                            <span>)</span>
                        </div>
                    </div>
                `;
                container.insertAdjacentHTML('beforeend', carDetailHtml);
            }
            populateCarModelsDatalist();
        }

        function showInitialPage() {
            document.getElementById('initial-page').style.display = 'block';
            document.getElementById('report-form-container').style.display = 'none';
            document.getElementById('settings-page').style.display = 'none';
            resetFormFields();
        }

        function showReportForm() {
            document.getElementById('initial-page').style.display = 'none';
            document.getElementById('report-form-container').style.display = 'block';
            document.getElementById('settings-page').style.display = 'none';
            populateRoadSelect();
            populateAccidentReasonsDatalist();
            populateDamagesDatalist();
            populateTrafficDelaysDatalist();
            populateCarModelsDatalist(); 
        }

        function showSettingsPage() {
            document.getElementById('initial-page').style.display = 'none';
            document.getElementById('report-form-container').style.display = 'none';
            document.getElementById('settings-page').style.display = 'block';
            populateSettingsRoadsList();
            populateSettingsAccidentReasonsList();
            populateSettingsDamagesList();
            populateSettingsTrafficDelaysList();
            populateSettingsCarModelsList(); 
        }

        document.addEventListener('DOMContentLoaded', function() {
            roads = loadData('roads', defaultRoads);
            accidentReasons = loadData('accidentReasons', defaultAccidentReasons);
            damages = loadData('damages', defaultDamages);
            trafficDelays = loadData('trafficDelays', defaultTrafficDelays);
            carModels = loadData('carModels', defaultCarModels);

            populateRoadSelect();
            populateAccidentReasonsDatalist();
            populateDamagesDatalist();
            populateTrafficDelaysDatalist();
            populateCarModelsDatalist();

            const carCountInput = document.getElementById('car-count');
            const carDetailsContainer = document.getElementById('car-details-container');
            const dateInput = document.getElementById('date');
            const dayInput = document.getElementById('day');
            const accidentReasonSearchInput = document.getElementById('accident-reason-search');
            const accidentReasonDisplay = document.getElementById('accident-reason-display');
            const hourInput = document.getElementById('hour');
            const roadNameSelect = document.getElementById('road-name-select');
            const roadNumberDisplay = document.getElementById('road-number-display');

            accidentReasonSearchInput.addEventListener('input', function() {
                accidentReasonDisplay.value = this.value;
            });

            const daysOfWeek = ['Ø§Ù„Ø£Ø­Ø¯', 'Ø§Ù„Ø§Ø«Ù†ÙŠÙ†', 'Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡', 'Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡', 'Ø§Ù„Ø®Ù…ÙŠØ³', 'Ø§Ù„Ø¬Ù…Ø¹Ø©', 'Ø§Ù„Ø³Ø¨Øª'];

            const now = new Date();
            const year = now.getFullYear();
            const month = String(now.getMonth() + 1).padStart(2, '0');
            const day = String(now.getDate()).padStart(2, '0');
            dateInput.value = ${year}-${month}-${day};
            dayInput.value = daysOfWeek[now.getDay()];

            let hours = now.getHours();
            const minutes = String(now.getMinutes()).padStart(2, '0');
            const ampm = hours >= 12 ? 'Ù…Ø³Ø§Ø¡Ù‹' : 'ØµØ¨Ø§Ø­Ù‹Ø§';
            hours = hours % 12;
            hours = hours ? hours : 12;
            const formattedTime = ${String(hours).padStart(2, '0')}:${minutes} ${ampm};
            hourInput.value = formattedTime;

            generateCarInputs(parseInt(carCountInput.value));

            carCountInput.addEventListener('input', function() {
                const count = parseInt(this.value);
                if (!isNaN(count) && count >= 0) {
                    generateCarInputs(count);
                } else {
                    carDetailsContainer.innerHTML = '';
                }
            });

            dateInput.addEventListener('change', function() {
                if (this.value) {
                    const date = new Date(this.value + 'T00:00:00');
                    dayInput.value = daysOfWeek[date.getDay()];
                } else {
                    dayInput.value = '';
                }
            });

            roadNameSelect.addEventListener('change', function() {
                roadNumberDisplay.value = this.value;
            });
            if (roadNameSelect.options.length > 0) {
                roadNumberDisplay.value = roadNameSelect.value;
            }
        });

        function startReport(type) {
            accidentType = type;
            const reportTitle = document.getElementById('report-title');
            const locationField = document.getElementById('location-field');
            const injuriesCountInput = document.getElementById('injuries-count');
            const fatalitiesCountInput = document.getElementById('fatalities-count');

            showReportForm(); 

            let accentColor = '#3498db';

            if (type === 'fatal') {
                accentColor = '#c0392b';
                locationField.style.display = 'flex';
                fatalitiesCountInput.value = 'ÙŠÙˆØ¬Ø¯';
                injuriesCountInput.value = 'Ù„Ø§ÙŠÙˆØ¬Ø¯';
            } else if (type === 'injuries') {
                accentColor = '#f39c12';
                locationField.style.display = 'none';
                injuriesCountInput.value = 'ÙŠÙˆØ¬Ø¯';
                fatalitiesCountInput.value = 'Ù„Ø§ÙŠÙˆØ¬Ø¯';
            } else {
                accentColor = '#3498db';
                locationField.style.display = 'none';
                injuriesCountInput.value = 'Ù„Ø§ÙŠÙˆØ¬Ø¯';
                fatalitiesCountInput.value = 'Ù„Ø§ÙŠÙˆØ¬Ø¯';
            }
            
            reportTitle.style.color = accentColor;
            document.documentElement.style.setProperty('--h1-after-background', accentColor);
        }

        function resetFormFields() {
            document.getElementById('report-id').value = '';
            document.getElementById('location-text').value = '';
            
            const roadSelect = document.getElementById('road-name-select');
            if (roadSelect.options.length > 0) {
                roadSelect.value = roadSelect.options[0].value;
                document.getElementById('road-number-display').value = roadSelect.options[0].value;
            } else {
                document.getElementById('road-number-display').value = '';
            }

            document.getElementById('road-type').value = 'Ø³Ø±ÙŠØ¹';
            document.getElementById('kilometer-mark-m').value = '';
            document.getElementById('kilometer-mark-km').value = '';
            document.getElementById('direction').value = 'Ø±Ø¦ÙŠØ³ÙŠ';
            document.getElementById('location-description').value = '';
            document.getElementById('contract-number').value = '404';
            document.getElementById('contractor-name').value = 'Ù…Ø·Ù„Ù‚ Ø§Ù„ØºÙˆÙŠØ±ÙŠ Ù„Ù„Ù…Ù‚Ø§ÙˆÙ„Ø§Øª';
            
            if (accidentType === 'fatal') {
                document.getElementById('fatalities-count').value = 'ÙŠÙˆØ¬Ø¯';
                document.getElementById('injuries-count').value = 'Ù„Ø§ÙŠÙˆØ¬Ø¯';
            } else if (accidentType === 'injuries') {
                document.getElementById('injuries-count').value = 'ÙŠÙˆØ¬Ø¯';
                document.getElementById('fatalities-count').value = 'Ù„Ø§ÙŠÙˆØ¬Ø¯';
            } else {
                document.getElementById('injuries-count').value = 'Ù„Ø§ÙŠÙˆØ¬Ø¯';
                document.getElementById('fatalities-count').value = 'Ù„Ø§ÙŠÙˆØ¬Ø¯';
            }

            document.getElementById('damages-input').value = 'Ù„Ø§ÙŠÙˆØ¬Ø¯'; 
            document.getElementById('car-count').value = '2';
            document.getElementById('accident-reason-search').value = '';
            document.getElementById('accident-reason-display').value = '';
            
            const now = new Date();
            const year = now.getFullYear();
            const month = String(now.getMonth() + 1).padStart(2, '0');
            const day = String(now.getDate()).padStart(2, '0');
            document.getElementById('date').value = ${year}-${month}-${day};
            const daysOfWeek = ['Ø§Ù„Ø£Ø­Ø¯', 'Ø§Ù„Ø§Ø«Ù†ÙŠÙ†', 'Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡', 'Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡', 'Ø§Ù„Ø®Ù…ÙŠØ³', 'Ø§Ù„Ø¬Ù…Ø¹Ø©', 'Ø§Ù„Ø³Ø¨Øª'];
            document.getElementById('day').value = daysOfWeek[now.getDay()];

            let hours = now.getHours();
            const minutes = String(now.getMinutes()).padStart(2, '0');
            const ampm = hours >= 12 ? 'Ù…Ø³Ø§Ø¡Ù‹' : 'ØµØ¨Ø§Ø­Ù‹Ø§';
            hours = hours % 12;
            hours = hours ? hours : 12;
            const formattedTime = ${String(hours).padStart(2, '0')}:${minutes} ${ampm};
            document.getElementById('hour').value = formattedTime;

            document.getElementById('traffic-delay-input').value = 'Ù„Ø§ ÙŠÙˆØ¬Ø¯ ØªØ¨Ø§Ø·Ø¤'; 
            document.getElementById('weather-condition').value = 'ØµØ­Ùˆ';
            document.getElementById('road-condition').value = 'Ø¬ÙŠØ¯Ø©';
            document.getElementById('visibility').value = 'ÙˆØ§Ø¶Ø­Ø©';
            document.getElementById('action1').checked = true;
            document.getElementById('clean-done').checked = true; 
            document.getElementById('action3').checked = true;

            document.getElementById('car-details-container').innerHTML = '';
            document.getElementById('car-count').dispatchEvent(new Event('input'));
        }

        function collectReportData() {
            let reportText = "";
            const locationText = document.getElementById('location-text').value;

            if (accidentType === 'fatal') {
                reportText += ğŸ”´ Ø¨Ù„Ø§Øº Ø¹Ø§Ø¬Ù„ Ø¨ÙˆÙ‚ÙˆØ¹ Ø­Ø§Ø¯Ø« Ù…Ø±ÙˆØ±ÙŠ ğŸ”´\n\n;
            } else if (accidentType === 'injuries') {
                reportText += ğŸŸ¡ Ø¨Ù„Ø§Øº Ø¹Ø§Ø¬Ù„ Ø¨ÙˆÙ‚ÙˆØ¹ Ø­Ø§Ø¯Ø« Ù…Ø±ÙˆØ±ÙŠ ğŸŸ¡\n\n;
            } else {
                reportText += ğŸ”µ Ø¨Ù„Ø§Øº Ø¹Ø§Ø¬Ù„ Ø¨ÙˆÙ‚ÙˆØ¹ Ø­Ø§Ø¯Ø« Ù…Ø±ÙˆØ±ÙŠ ğŸ”µ\n\n;
            }

            const getValue = (id) => document.getElementById(id) ? document.getElementById(id).value.trim() || '---' : '---';
            const getSelectedText = (id) => {
                const selectElement = document.getElementById(id);
                return selectElement && selectElement.options.length > 0 ? selectElement.options[selectElement.selectedIndex].text : '---';
            };

            reportText += ğŸ”³ Ø±Ù‚Ù… Ø§Ù„Ø¨Ù„Ø§Øº ÙÙŠ Ø±Ù‚Ø§Ø¨Ø© +: (${getValue('report-id')})\n\n;

            reportText += "ğŸ“ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…ÙˆÙ‚Ø¹\n"; 
            
            const selectedRoadName = getSelectedText('road-name-select');
            const selectedRoadNumber = getValue('road-number-display');

            reportText += ğŸ›£ Ø§Ø³Ù… Ø§Ù„Ø·Ø±ÙŠÙ‚ : ${selectedRoadName}\n;
            reportText += ğŸ›£ Ø±Ù‚Ù… Ø§Ù„Ø·Ø±ÙŠÙ‚ : ${selectedRoadNumber}\n; 
            reportText += ğŸ›£ Ù†ÙˆØ¹ Ø§Ù„Ø·Ø±ÙŠÙ‚ : ${getSelectedText('road-type')}\n; 

            const kmMarkKm = getValue('kilometer-mark-km');
            const kmMarkM = getValue('kilometer-mark-m');
            
            const displayKm = kmMarkKm !== '---' && kmMarkKm !== '' ? kmMarkKm : '_';
            const displayM = kmMarkM !== '---' && kmMarkM !== '' ? kmMarkM : '_';

            reportText += ğŸ›£ Ø§Ù„Ø¹Ù„Ø§Ù…Ø© Ø§Ù„ÙƒÙŠÙ„ÙˆÙ…ØªØ±ÙŠØ©: (${displayM} + ${displayKm})\n;

            reportText += ğŸ›£ Ø§Ù„Ø§ØªØ¬Ø§Ù‡ : ${getSelectedText('direction')}\n;
            reportText += ğŸ›£ ÙˆØµÙ Ø§Ù„Ù…ÙˆÙ‚Ø¹ : ${getValue('location-description')}\n;
            reportText += ğŸ›£ Ø±Ù‚Ù… Ø§Ù„Ø¹Ù‚Ø¯ : ${getValue('contract-number')}\n;
            reportText += ğŸ›£ Ø§Ø³Ù… Ø§Ù„Ù…Ù‚Ø§ÙˆÙ„ : ${getValue('contractor-name')}\n\n;

            reportText += "ğŸ›‘ Ù†ØªÙŠØ¬Ø© Ø§Ù„Ø­Ø§Ø¯Ø«\n";
            reportText += â›‘ Ø¹Ø¯Ø¯ Ø§Ù„Ø¥ØµØ§Ø¨Ø§Øª : ${getValue('injuries-count')}\n;
            reportText += â›‘ Ø¹Ø¯Ø¯ Ø§Ù„ÙˆÙÙŠØ§Øª : ${getValue('fatalities-count')}\n;
            reportText += â›‘ Ø§Ù„ØªÙ„ÙÙŠØ§Øª: ${getValue('damages-input')}\n\n;

            const carCount = parseInt(getValue('car-count')) || 0;
            reportText += ğŸš™ Ø¹Ø¯Ø¯ Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª : ${carCount}\n;
            for (let i = 1; i <= carCount; i++) {
                const carType = getValue(car-type-${i});
                const plateLetters = getValue(plate-letters-${i});
                const plateNumbers = getValue(plate-numbers-${i});

                reportText += ${i}: ğŸš˜ Ù†ÙˆØ¹Ù‡Ø§ : ${carType}\n;
                reportText += `  Ø±Ù‚Ù… Ø§Ù„Ù„ÙˆØ­Ø© : ( ${plateLetters} / ${plateNumbers} )\n`;
            }
            reportText += "\n";

            reportText += ğŸ“ƒ Ø³Ø¨Ø¨ Ø§Ù„Ø­Ø§Ø¯Ø« : ${getValue('accident-reason-display')}\n\n;

            const dateValue = getValue('date');
            let formattedDate = '---';
            if (dateValue && dateValue !== '---') {
                const parts = dateValue.split('-');
                if (parts.length === 3) {
                    formattedDate = ${parts[2]}/${parts[1]}/${parts[0]};
                }
            }
            reportText += â–  Ø§Ù„Ø³Ø§Ø¹Ø©: ${getValue('hour')}\n;
            reportText += â–  Ø§Ù„ØªØ§Ø±ÙŠØ®: ${formattedDate}\n;
            reportText += â–  Ø§Ù„ÙŠÙˆÙ… : ${getValue('day')}\n\n;

            reportText += "ğŸ—’ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¹Ø§Ù…Ø©\n";
            reportText += ğŸ Ø²Ù…Ù† ØªØ¨Ø§Ø·Ø¤ Ø­Ø±ÙƒØ© Ø§Ù„Ù…Ø±ÙˆØ±: ${getValue('traffic-delay-input')}\n;
            reportText += ğŸ Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø¬ÙˆÙŠØ© : ${getSelectedText('weather-condition')}\n;
            reportText += ğŸ›£ Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ø±ÙŠÙ‚ : ${getValue('road-condition')}\n;
            reportText += ğŸ‘“ ÙˆØ¶ÙˆØ­ Ø§Ù„Ø±Ø¤ÙŠØ© : ${getValue('visibility')}\n\n;

            reportText += "ğŸš¨ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡ Ø§Ù„Ø°ÙŠ ØªÙ… Ù…Ù† Ù‚Ø¨Ù„ Ø§Ù„Ù…Ù‚Ø§ÙˆÙ„\n";
            let actionsTaken = [];
            if (document.getElementById('action1').checked) actionsTaken.push("1ï¸âƒ£ ØªØ£Ù…ÙŠÙ† Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø­Ø§Ø¯Ø«.");
            
            const cleaningStatusRadios = document.getElementsByName('cleaning-status');
            let selectedCleaningStatus = '';
            for (const radio of cleaningStatusRadios) {
                if (radio.checked) {
                    selectedCleaningStatus = radio.value;
                    break;
                }
            }
            if (selectedCleaningStatus) {
                actionsTaken.push(2ï¸âƒ£ ${selectedCleaningStatus});
            }

            if (document.getElementById('action3').checked) actionsTaken.push("3ï¸âƒ£ ÙˆØ¶Ø¹ ÙˆØ³Ø§Ø¦Ù„ Ø§Ù„Ø³Ù„Ø§Ù…Ø©.");

            if (actionsTaken.length > 0) {
                actionsTaken.forEach(action => {
                    reportText += â€¢ ${action} .\n; 
                });
            } else {
                reportText += "â€¢ Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ù…Ø­Ø¯Ø¯Ø©.\n";
            }
            reportText += "\n";

            reportText += "ğŸš§ Ø§Ù„Ù…Ø±ÙˆØ± ÙˆØ§Ù„Ø³Ù„Ø§Ù…Ø© Ø¨Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ ğŸš§";
            return reportText;
        }

        const reportModal = document.getElementById('reportModal');
        const reportOutput = document.getElementById('report-output');
        const successMessage = document.getElementById('successMessage');

        function showReportModal() {
            reportOutput.value = collectReportData();
            reportModal.style.display = 'block';
            successMessage.style.display = 'none';
        }

        function closeReportModal() {
            reportModal.style.display = 'none';
        }

        function copyTextFromModal() {
            reportOutput.select();
            reportOutput.setSelectionRange(0, 99999);
            navigator.clipboard.writeText(reportOutput.value).then(() => {
                closeReportModal();
                successMessage.style.display = 'block';
                setTimeout(() => {
                    successMessage.style.display = 'none';
                }, 3000);
            }).catch(err => {
                console.error('Failed to copy text: ', err);
                alert("Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ù†Ø³Ø®. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.");
            });
        }

        window.onclick = function(event) {
            if (event.target == reportModal) {
                closeReportModal();
            }
        }
    </script>
</body>
</html>
